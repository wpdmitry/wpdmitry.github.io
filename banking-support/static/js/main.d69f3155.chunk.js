(this["webpackJsonpbanking-support"]=this["webpackJsonpbanking-support"]||[]).push([[0],Array(23).concat([function(e,t,n){"use strict";var r=n(9),a=n(2),c=n.n(a),o=n(6),s=n(17),u=n(18),i=n(86),l=n(13),d=[{id:"3502354",logoId:"1",currency:{name:"RUB"},interestRate:4,openedAt:"2019-10-13T18:31:42Z",totalSum:2495},{id:"3502355",logoId:"2",currency:{name:"RUB"},interestRate:5,openedAt:"2019-10-13T19:31:42Z",totalSum:100},{id:"3502356",logoId:"1",currency:{name:"RUB"},interestRate:8,openedAt:"2019-10-13T13:31:42Z",totalSum:-1200}],p=[{id:"2352332",logoId:"1",currency:{name:"RUB"},interestRate:7,totalSum:8600,openedAt:"2019-10-13T18:31:42Z",closeAt:"2020-10-13T18:31:42Z"},{id:"2352333",logoId:"2",currency:{name:"USD"},interestRate:2,totalSum:3e3,openedAt:"2019-10-13T18:31:42Z",closeAt:"2022-10-13T18:31:42Z"}],m=[{id:"112412",sum:-370,type:"1",currency:{name:"RUB"},accountId:"3502354",createdAt:"2019-10-12T17:31:42Z",merchant:{id:"1",name:"\u041c\u0430\u043a\u0434\u043e\u043d\u0430\u043b\u044c\u0434\u0441"}},{id:"112813",sum:-500,type:"1",currency:{name:"RUB"},accountId:"3502355",createdAt:"2019-10-14T18:31:42Z",merchant:{id:"1",name:"\u041c\u0430\u043a\u0434\u043e\u043d\u0430\u043b\u044c\u0434\u0441"}},{id:"113813",sum:-2512,type:"1",currency:{name:"RUB"},accountId:"3502354",createdAt:"2019-10-13T15:31:42Z",merchant:{id:"2",name:"\u0414\u0438\u043a\u0441\u0438"}},{id:"113819",sum:-373,type:"4",currency:{name:"RUB"},accountId:"3502354",createdAt:"2019-10-13T18:31:42Z",user:{id:"1",name:"\u0410\u043d\u0442\u043e\u043d\u0443"}},{id:"114819",sum:6e3,type:"5",currency:{name:"RUB"},accountId:"3502354",createdAt:"2019-10-14T18:31:42Z"},{id:"124819",sum:600,type:"3",currency:{name:"RUB"},accountId:"3502355",createdAt:"2019-10-15T12:31:42Z"},{id:"124820",sum:-250,type:"1",currency:{name:"RUB"},accountId:"3502354",createdAt:"2019-10-15T18:22:42Z",merchant:{id:"1",name:"\u041c\u0430\u043a\u0434\u043e\u043d\u0430\u043b\u044c\u0434\u0441"}},{id:"125819",sum:-1200,type:"1",currency:{name:"RUB"},accountId:"3502356",createdAt:"2019-10-13T13:01:42Z",merchant:{id:"2",name:"\u0414\u0438\u043a\u0441\u0438"}},{id:"133820",sum:2e3,type:"5",currency:{name:"RUB"},accountId:"2352332",createdAt:"2019-10-12T18:31:42Z"},{id:"133822",sum:2e3,type:"5",currency:{name:"USD"},accountId:"2352333",createdAt:"2019-10-12T18:31:42Z"},{id:"133823",sum:3e3,type:"5",currency:{name:"USD"},accountId:"2352332",createdAt:"2019-10-13T12:31:42Z"},{id:"133824",sum:900,type:"5",currency:{name:"USD"},accountId:"2352333",createdAt:"2019-10-13T12:31:42Z"},{id:"133825",sum:100,type:"3",currency:{name:"USD"},accountId:"2352333",createdAt:"2019-10-13T12:31:42Z"},{id:"133826",sum:600,type:"3",currency:{name:"RUB"},accountId:"2352332",createdAt:"2019-10-13T12:31:42Z"},{id:"163826",sum:1e3,type:"5",currency:{name:"USD"},accountId:"2352332",createdAt:"2019-10-13T12:31:42Z"}],f={0:{id:"0",name:"\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430"},1:{id:"1",name:"\u0418\u0432\u0430\u043d"}},_=[{id:"1"},{id:"2"},{id:"3"},{id:"4"},{id:"5"},{id:"6"},{id:"7"},{id:"8"},{id:"9"},{id:"10"},{id:"11"},{id:"12"},{id:"13"},{id:"14"},{id:"15"},{id:"16"},{id:"17"},{id:"18"},{id:"19"},{id:"20"},{id:"21"},{id:"22"},{id:"23"},{id:"24"}];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=Object(l.e)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MESSAGES":var n=t.messages;return n;case"NEW_MESSAGE":var r=t.message;return[].concat(Object(i.a)(e),[r]);default:return e}}),[]),g=function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,[{key:"getAccountOperations",value:function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.filter((function(e){return e.accountId===t})).reverse());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getOperation",value:function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=m.find((function(e){return e.id===t}))){e.next=3;break}throw new Error("Not found operation");case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAccounts",value:function(){var e=Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d.map((function(e){var t=m.filter((function(t){return t.accountId===e.id}));return h({},e,{lastOperation:t[t.length-1]})})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getDeposits",value:function(){var e=Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p.map((function(e){var t=m.filter((function(t){return t.accountId===e.id}));return h({},e,{lastOperation:t[t.length-1]})})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getAccount",value:function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.find((function(e){return e.id===t}))){e.next=3;break}throw new Error("Not found account");case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDeposit",value:function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=p.find((function(e){return e.id===t}))){e.next=3;break}throw new Error("Not found deposit");case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendMessage",value:function(){var e=Object(o.a)(c.a.mark((function e(t){var n,r,a,o,s,u,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userId,r=void 0===n?"0":n,a=t.text,o=t.stickerId,s=t.operationId,u=f[r],i={id:"".concat(Math.floor(1e8*Math.random())),createdAt:(new Date).toISOString(),state:"2",user:u},a?(i.type="1",i.text=a):s?(i.type="2",i.operationId=s):o&&(i.type="3",i.stickerId=o),b.dispatch({type:"NEW_MESSAGE",message:i}),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getStickers",value:function(){var e=Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getMessages",value:function(){var e=Object(o.a)(c.a.mark((function e(){var t,n=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"0",e.abrupt("return",b.getState().map((function(e){return h({},e,{own:e.user.id===t})})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"subscribeToMessages",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";return b.subscribe((function(){var n=b.getState(),r=n[n.length-1];r&&r.user.id!==t&&e(h({},r,{own:!1}))}))}},{key:"syncMessages",value:function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b.dispatch({type:"SET_MESSAGES",messages:t}),e.abrupt("return",!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"createService",value:function(){return new e}}]),e}();n.d(t,"a",(function(){return g}))},,,,,function(e,t,n){"use strict";var r=n(51);n.d(t,"default",(function(){return r.a}));n(52)},,,,,function(e,t,n){"use strict";var r=n(49);n.d(t,"default",(function(){return r.a}));n(50)},,,,,,,,,function(e,t,n){"use strict";var r=n(53);n.d(t,"default",(function(){return r.a}));n(54)},function(e,t,n){"use strict";var r=n(55);n.d(t,"default",(function(){return r.a}));n(56)},function(e,t,n){"use strict";var r=n(57);n.d(t,"default",(function(){return r.a}));n(58)},,,,,function(e,t,n){"use strict";var r=n(15),a=n(0),c=n.n(a);function o(e){if(e)return"/"===e[0]&&"/"!==e[1]?"".concat("").concat(e):e}t.a=function(e){var t=e.src,n=e.alt,a=Object(r.a)(e,["src","alt"]);return c.a.createElement("img",Object.assign({src:o(t),alt:n},a))}},function(e,t){},function(e,t,n){"use strict";var r=n(2),a=n.n(r),c=n(6),o=n(17),s=n(18),u=n(23),i=function(){function e(t){Object(o.a)(this,e),this.apiService=t}return Object(s.a)(e,[{key:"sendTextMessage",value:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.apiService.sendMessage({text:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendOperationMessage",value:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.apiService.sendMessage({operationId:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendStickerMessage",value:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.apiService.sendMessage({stickerId:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMessages",value:function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.apiService.getMessages();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getStickers",value:function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.apiService.getStickers();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"syncMessages",value:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.apiService.syncMessages(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"createService",value:function(){return new e(u.a.createService())}}]),e}();t.a=i},function(e,t){},function(e,t,n){"use strict";var r=n(2),a=n.n(r),c=n(6),o=n(17),s=n(18),u=n(23),i=function(){function e(t){Object(o.a)(this,e),this.apiService=t}return Object(s.a)(e,[{key:"getAccountOperations",value:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.apiService.getAccountOperations(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getOperation",value:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.apiService.getOperation(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"createService",value:function(){return new e(u.a.createService())}}]),e}();t.a=i},function(e,t){},function(e,t,n){"use strict";var r=n(2),a=n.n(r),c=n(6),o=n(17),s=n(18),u=n(23),i=function(){function e(t){Object(o.a)(this,e),this.apiService=t}return Object(s.a)(e,[{key:"getAccounts",value:function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.apiService.getAccounts();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAccount",value:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.apiService.getAccount(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"createService",value:function(){return new e(u.a.createService())}}]),e}();t.a=i},function(e,t){},function(e,t,n){"use strict";var r=n(2),a=n.n(r),c=n(6),o=n(17),s=n(18),u=n(23),i=function(){function e(t){Object(o.a)(this,e),this.apiService=t}return Object(s.a)(e,[{key:"getDeposits",value:function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.apiService.getDeposits();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDeposit",value:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.apiService.getDeposit(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"createService",value:function(){return new e(u.a.createService())}}]),e}();t.a=i},function(e,t){},,,function(e,t,n){e.exports={"nav-link":"nav-link_nav-link__12EZC"}},,function(e,t,n){e.exports={tabs:"tabs_tabs__1Mpj_","tabs__nav-links":"tabs_tabs__nav-links__26tVb","tabs__nav-link-container":"tabs_tabs__nav-link-container__yGJG-","tabs__nav-link":"tabs_tabs__nav-link__3TN9-","tabs__nav-link_active":"tabs_tabs__nav-link_active__1scIE",tabs__content:"tabs_tabs__content__1YXpJ"}},function(e,t,n){e.exports={"chat-layout":"chat-layout_chat-layout__249-3","chat-layout__messages":"chat-layout_chat-layout__messages__1xjQj","chat-layout__input":"chat-layout_chat-layout__input__2GiTo"}},function(e,t,n){e.exports={button:"button_button__H5057"}},,function(e,t,n){e.exports={"chat-stickers":"chat-stickers_chat-stickers__yDpPa","chat-stickers__items":"chat-stickers_chat-stickers__items__2HA0x","chat-stickers__item":"chat-stickers_chat-stickers__item__1p4Jg"}},function(e,t,n){e.exports={"chat-text-input":"chat-text-input_chat-text-input__2RkWs","chat-text-input__wrapper":"chat-text-input_chat-text-input__wrapper__3NN5A","chat-text-input__field":"chat-text-input_chat-text-input__field__2KT4G","chat-text-input__placeholder":"chat-text-input_chat-text-input__placeholder__3UN1M","chat-text-input__placeholder_visible":"chat-text-input_chat-text-input__placeholder_visible__4FzeU","chat-text-input__send-button":"chat-text-input_chat-text-input__send-button__2E6HQ"}},function(e,t,n){e.exports={"chat-input":"chat-input_chat-input__1IZkL","chat-input__action":"chat-input_chat-input__action__3CkfZ","chat-input__form":"chat-input_chat-input__form__3Koae","chat-input__text-field":"chat-input_chat-input__text-field__2JHKz","chat-input__send-button":"chat-input_chat-input__send-button__3yfIL"}},function(e,t,n){e.exports={"chat-messages":"chat-messages_chat-messages__2Q6gP"}},function(e,t,n){e.exports={"chat-text-message":"chat-text-message_chat-text-message__1TsK4","chat-text-message_theme_dark":"chat-text-message_chat-text-message_theme_dark__2Vi7o","chat-text-message_theme_light":"chat-text-message_chat-text-message_theme_light__yegjL"}},function(e,t,n){e.exports={loader:"loader_loader__2d6FG",loader__content:"loader_loader__content__8mOs-",spinner:"loader_spinner__3ExDN",loader__content_size_xs:"loader_loader__content_size_xs__34K7h",loader__content_size_xsmax:"loader_loader__content_size_xsmax__1pkFT",loader__content_size_s:"loader_loader__content_size_s__q-kkA",loader__content_size_m:"loader_loader__content_size_m__1goz4",loader__content_size_l:"loader_loader__content_size_l__1FqUq"}},function(e,t,n){e.exports={"operation-logo":"operation-logo_operation-logo__3Nnw5"}},function(e,t,n){e.exports={"operation-name":"operation-name_operation-name__wSvBe"}},function(e,t,n){e.exports={"operation-item":"operation-item_operation-item__3Vd2N","operation-item__bg":"operation-item_operation-item__bg__2MPNz","operation-item__message-button":"operation-item_operation-item__message-button__3uZ_-","operation-item__wrapper":"operation-item_operation-item__wrapper__3IB_5","operation-item__left":"operation-item_operation-item__left__1RGup","operation-item__right":"operation-item_operation-item__right__2eu5K","operation-item__logo":"operation-item_operation-item__logo__3oMoP","operation-item__name":"operation-item_operation-item__name__1Gtf7","operation-item__date":"operation-item_operation-item__date__tTOir","operation-item__sum":"operation-item_operation-item__sum__3kRXH"}},function(e,t,n){e.exports={"chat-operation-message":"chat-operation-message_chat-operation-message__1PFys","chat-operation-message_theme_dark":"chat-operation-message_chat-operation-message_theme_dark__32rLk","chat-operation-message_theme_light":"chat-operation-message_chat-operation-message_theme_light__1_qpn","chat-operation-message__logo":"chat-operation-message_chat-operation-message__logo__1kYxv","chat-operation-message__name":"chat-operation-message_chat-operation-message__name__Fn4pU","chat-operation-message__sum":"chat-operation-message_chat-operation-message__sum__1LJAf"}},function(e,t,n){e.exports={"chat-sticker-message":"chat-sticker-message_chat-sticker-message__3H-4E","chat-sticker-message__logo":"chat-sticker-message_chat-sticker-message__logo__16BSE"}},function(e,t,n){e.exports={"chat-message":"chat-message_chat-message__6wazl","chat-message_own":"chat-message_chat-message_own__x6kHq","chat-message__name":"chat-message_chat-message__name__1dzsE","chat-message__wrapper":"chat-message_chat-message__wrapper__2uR0i","chat-message__logo":"chat-message_chat-message__logo__8we8R"}},function(e,t,n){e.exports={list:"list_list__2ZXKC",list__item:"list_list__item__3BkQz"}},function(e,t,n){e.exports={"account-item":"deposit-item_account-item__1JvJd","account-item__header":"deposit-item_account-item__header__1Gp86","account-item__total-sum":"deposit-item_account-item__total-sum__6Yq3n","account-item__logo":"deposit-item_account-item__logo__XE9kD","account-item__info":"deposit-item_account-item__info__Sd3JK","account-item__more-link":"deposit-item_account-item__more-link__1Fs8i","account-item__last-sum":"deposit-item_account-item__last-sum__SOm0g"}},function(e,t,n){e.exports={"account-layout":"account-layout_account-layout__3xcqm","account-layout__fallback":"account-layout_account-layout__fallback__xJ8tX","account-layout__info":"account-layout_account-layout__info__1oZIY","account-layout__operations-container":"account-layout_account-layout__operations-container__l-4p4","account-layout__operations-title":"account-layout_account-layout__operations-title__o8T0i","account-layout__operations":"account-layout_account-layout__operations__1R8r1","account-layout__close-link":"account-layout_account-layout__close-link__3NXce"}},function(e,t,n){e.exports={"account-item":"account-item_account-item__3rhEU","account-item__header":"account-item_account-item__header__7MaVo","account-item__total-sum":"account-item_account-item__total-sum__3wEcF","account-item__logo":"account-item_account-item__logo__1yvQR","account-item__info":"account-item_account-item__info__261nl","account-item__more-link":"account-item_account-item__more-link__2L0AA","account-item__last-sum":"account-item_account-item__last-sum__1P7Jn"}},,function(e,t,n){e.exports={app:"app_app__3mk8F",app__chat:"app_app__chat__1jYfQ",app__sidebar:"app_app__sidebar__-6xVV"}},,,,function(e,t,n){e.exports=n(102)},,,,,function(e,t,n){},,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(34),o=n.n(c),s=(n(93),n(30)),u=n(25),i=n(5),l=n(60),d=n(48),p=n.n(d),m=n(15),f=n(61),_=n.n(f),v=p()(_.a);var h=function(e){var t=e.to,n=Object(m.a)(e,["to"]);return a.a.createElement("div",{className:v()},a.a.createElement(s.c,Object.assign({to:t},n)))},b=n(63),g=n.n(b),y=p()(g.a);var O=function(e){var t=e.tabs;return a.a.createElement("div",{className:y()},a.a.createElement("div",{className:y("nav-links")},t.map((function(e){var t=e.title,n=e.path;return a.a.createElement("div",{key:n,className:y("nav-link-container")},a.a.createElement(h,{className:y("nav-link"),activeClassName:y("nav-link",{active:!0}),to:n},t))}))),a.a.createElement("div",{className:y("content")},t.map((function(e){var t=e.path,n=e.component;return a.a.createElement(u.a,{key:t,path:t,component:n})}))))},E="GET_MESSAGES",j="GOT_MESSAGES",x="GOT_MESSAGES_ERROR",k="SEND_TEXT_MESSAGE",w="SEND_OPERATION_MESSAGE",I="SEND_STICKER_MESSAGE",S="START_WATCH_MESSAGES",N="STOP_WATCH_MESSAGES";function T(e){return{type:w,operationId:e}}function A(e){return{type:j,messages:e}}var M=n(64),R=n.n(M),B=p()(R.a);var D=function(e){var t=e.input,n=e.messages,c=e.messagesCount,o=Object(r.useRef)(null),s=Object(r.useRef)(0);return Object(r.useEffect)((function(){if(o.current){var e=o.current,t=e.scrollHeight,n=e.scrollTop,r=e.clientHeight,a=s.current-n<=r;s.current=t,a&&setTimeout((function(){if(o.current){var e=o.current.scrollHeight;o.current.scrollTo(0,e)}}),100)}}),[c]),a.a.createElement("div",{className:B()},a.a.createElement("div",{ref:o,className:B("messages")},n),a.a.createElement("div",{className:B("input")},t))};var P=function(e){return a.a.createElement("svg",Object.assign({width:"35",height:"35",viewBox:"0 0 35 35"},e),a.a.createElement("g",{fill:"none",fillRule:"evenodd",opacity:".9"},a.a.createElement("circle",{cx:"17.5",cy:"17.5",r:"17.5",fill:"#EEE"}),a.a.createElement("path",{stroke:"#333",strokeLinecap:"round",strokeWidth:"1.4",d:"M18 12h5v5M18 22h-5v-5"})))};var z=function(e){return a.a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",viewBox:"0 0 21 21"},e),a.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.4"},a.a.createElement("path",{d:"M15.738 5.838l-9.9 9.9M15.738 15.738l-9.9-9.9"})))};var C=function(e){return a.a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},e),a.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.4"},a.a.createElement("path",{d:"M21.459 5.632a2.99 2.99 0 0 0-2.731-1.999 66.047 66.047 0 0 0-13.513 0c-1.196.14-2.507.826-2.675 2a28.313 28.313 0 0 0 0 9.988c.168 1.175 1.482 1.86 2.675 1.998.896.091 1.438.15 2.334.204v-.002s3.006.493.536 3.885c5.508-1.338 7.39-3.83 7.39-3.83h-.023a65.655 65.655 0 0 0 3.276-.257 2.987 2.987 0 0 0 2.731-1.998 28.22 28.22 0 0 0 0-9.989zM7.857 9.367h8.285M7.857 12.715h8.285"})))};var G=function(e){return a.a.createElement("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24"},e),a.a.createElement("path",{fill:"#FFF",fillRule:"evenodd",d:"M19.975 13.235c1.365-.682 1.368-1.786 0-2.47L4.93 3.246c-1.365-.682-2.195.1-1.853 1.758l1.005 4.863c.12.584.64 1.107 1.176 1.169l5.94.689c1.312.152 1.312.398 0 .55l-5.94.69c-.53.06-1.057.59-1.176 1.168l-1.005 4.863c-.341 1.653.485 2.441 1.853 1.758l15.045-7.52z"}))};var U=function(e){return a.a.createElement("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24"},e),a.a.createElement("path",{fill:"#FFF",fillRule:"evenodd",d:"M10.37 17.875l-.995-3.365h-4.58L3.8 17.875H1L5.526 4h3.208l4.535 13.875h-2.9zM7.052 6.654l-1.671 5.683h3.406L7.117 6.654h-.064zm11.158 9.298c1.22 0 2.196-.808 2.196-1.962v-.778l-2.087.153c-1.102.077-1.69.539-1.69 1.318s.624 1.269 1.581 1.269zM17.353 18c-1.915 0-3.352-1.279-3.352-3.173 0-1.923 1.383-3.01 3.921-3.173l2.485-.164v-.702c0-1.019-.66-1.576-1.744-1.576-.957 0-1.626.538-1.753 1.307h-2.412c.072-2.019 1.79-3.413 4.274-3.413C21.329 7.106 23 8.5 23 10.616v7.259h-2.548V16.24h-.054c-.542 1.106-1.77 1.76-3.045 1.76z"}))};var Z=function(e){return a.a.createElement("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24"},e),a.a.createElement("path",{fill:"none",fillRule:"evenodd",stroke:"#B2B2B2",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.4",d:"M20.995 12.328c.003-.107.005-.214.005-.323 0-2.488-.88-4.612-2.638-6.371C16.607 3.878 14.487 3 12 3s-4.61.878-6.368 2.634C3.877 7.394 3 9.517 3 12.005c0 2.488.877 4.61 2.632 6.366 1.654 1.655 3.63 2.531 5.928 2.629a7.405 7.405 0 0 1-.247-1.936c0-1.982.7-3.672 2.097-5.07 1.397-1.399 3.087-2.098 5.067-2.098.9 0 1.739.144 2.518.432L11.563 21"}))};var F=function(e){return a.a.createElement("svg",Object.assign({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 497.68 497.68",xmlSpace:"preserve"},e),a.a.createElement("path",{fill:"#F2B233",d:"M464.04,404.82c0,97.6-96,92-215.2,92s-215.2,4.8-215.2-92c0-97.6,96-260,215.2-260 C368.04,145.62,464.04,308.02,464.04,404.82z"}),a.a.createElement("path",{fill:"#DD981D",d:"M248.84,145.62c119.2,0,215.2,162.4,215.2,260s-96,92-215.2,92"}),a.a.createElement("path",{fill:"#F2B233",d:"M144.04,44.82c0-47.2,47.2-44.8,104.8-44.8s104.8-2.4,104.8,44.8s-47.2,126.4-104.8,126.4 S144.04,92.02,144.04,44.82z"}),a.a.createElement("path",{fill:"#DD981D",d:"M248.84,0.02c57.6,0,104.8-2.4,104.8,44.8s-47.2,126.4-104.8,126.4"}),a.a.createElement("path",{fill:"#04AF76",d:"M340.84,154.42c0,8-6.4,14.4-14.4,14.4h-155.2c-8,0-14.4-6.4-14.4-14.4v-4c0-8,6.4-14.4,14.4-14.4 h156c8,0,14.4,6.4,14.4,14.4v4H340.84z"}),a.a.createElement("path",{fill:"#008C61",d:"M168.84,136.82h158.4c8,0,14.4,6.4,14.4,14.4v4c0,8-8,14.4-16,14.4"}),a.a.createElement("circle",{fill:"#04AF76",cx:"248.84",cy:"339.22",r:"96"}),a.a.createElement("path",{fill:"#008C61",d:"M180.84,271.22c37.6-37.6,98.4-37.6,136,0s37.6,98.4,0,136"}),a.a.createElement("path",{fill:"#FFF6E1",d:"M240.84,416.82v-20c-16-0.8-24.8-4-32-8l4.8-21.6c8,4,18.4,8,30.4,8c10.4,0,17.6-4,17.6-11.2 s-5.6-11.2-20-16c-20-6.4-32.8-16-32.8-33.6c0-16,7.2-28.8,31.2-32.8v-16.8h16v16c16,0.8,21.6,3.2,27.2,6.4l-4.8,20.8 c-4.8-2.4-12.8-6.4-26.4-6.4c-12,0-16,4.8-16,10.4c0,6.4,6.4,9.6,22.4,16c21.6,8,30.4,17.6,30.4,34.4s-8.8,30.4-32.8,34.4v20H240.84 z"}),a.a.createElement("g",null,a.a.createElement("path",{fill:"#FFEEBD",d:"M248.84,264.82v36.8c0,0,2.4,0,4,0c13.6,0,21.6,4,26.4,6.4l4.8-20.8c-6.4-3.2-11.2-6.4-27.2-6.4v-16 H248.84z"}),a.a.createElement("path",{fill:"#FFEEBD",d:"M259.24,327.22c-4-1.6-8-3.2-10.4-4v27.2c8,4,12.8,8,12.8,13.6c0,6.4-4.8,9.6-12.8,11.2v41.6h8 v-20.8c24-4,32.8-17.6,32.8-34.4C289.64,344.82,280.84,335.22,259.24,327.22z"})))};var H=function(e){return a.a.createElement("svg",Object.assign({viewBox:"0 0 64 64"},e),a.a.createElement("path",{d:"m3 57h58v4h-58z",fill:"#7d8d9c"}),a.a.createElement("path",{d:"m5 53h54v4h-54z",fill:"#aabece"}),a.a.createElement("path",{d:"m21 33h6v16h-6z",fill:"#cfdfe8"}),a.a.createElement("path",{d:"m3 25h58v4h-58z",fill:"#aabece"}),a.a.createElement("g",{fill:"#7d8d9c"},a.a.createElement("path",{d:"m59 25h-54l27-22z"}),a.a.createElement("path",{d:"m19 29h10v4h-10z"}),a.a.createElement("path",{d:"m19 49h10v4h-10z"})),a.a.createElement("path",{d:"m7 33h6v16h-6z",fill:"#cfdfe8"}),a.a.createElement("path",{d:"m5 29h10v4h-10z",fill:"#7d8d9c"}),a.a.createElement("path",{d:"m5 49h10v4h-10z",fill:"#7d8d9c"}),a.a.createElement("path",{d:"m51 33h6v16h-6z",fill:"#cfdfe8"}),a.a.createElement("path",{d:"m49 29h10v4h-10z",fill:"#7d8d9c"}),a.a.createElement("path",{d:"m49 49h10v4h-10z",fill:"#7d8d9c"}),a.a.createElement("path",{d:"m37 33h6v16h-6z",fill:"#cfdfe8"}),a.a.createElement("path",{d:"m35 29h10v4h-10z",fill:"#7d8d9c"}),a.a.createElement("path",{d:"m35 49h10v4h-10z",fill:"#7d8d9c"}),a.a.createElement("path",{d:"m37 12v-2h-4v-2h-2v2h-3a1 1 0 0 0 -1 1v4a1 1 0 0 0 1 1h3v2h-4v2h4v2h2v-2h3a1 1 0 0 0 1-1v-4a1 1 0 0 0 -1-1h-3v-2zm-2 4v2h-2v-2zm-4-2h-2v-2h2z",fill:"#fcf05a"}),a.a.createElement("path",{d:"m22 22h-6a1 1 0 0 1 -.625-1.781l5-4 1.25 1.562-2.774 2.219h3.149z",fill:"#394d5c"}),a.a.createElement("path",{d:"m47 22h-6v-2h3.149l-2.774-2.219 1.25-1.562 5 4a1 1 0 0 1 -.625 1.781z",fill:"#394d5c"}))},L=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return"string"===typeof e})).join(" ")},J=n(65),K=n.n(J),W=p()(K.a),q=a.a.forwardRef((function(e,t){var n=e.className,r=Object(m.a)(e,["className"]);return a.a.createElement("button",Object.assign({ref:t,className:L(W(),n)},r))})),V=n(33);function X(e){var t=e.merchantId,n=Object(m.a)(e,["merchantId"]);return a.a.createElement(V.default,Object.assign({src:"/images/merchants/".concat(t,".png")},n))}function Q(e){var t=e.logoId,n=Object(m.a)(e,["logoId"]);return a.a.createElement(V.default,Object.assign({src:"/images/accounts/".concat(t,".png")},n))}function Y(e){var t=e.userId,n=Object(m.a)(e,["userId"]);return a.a.createElement(V.default,Object.assign({src:"/images/users/".concat(t,".png")},n))}function $(e){var t=e.stickerId,n=Object(m.a)(e,["stickerId"]);return a.a.createElement(V.default,Object.assign({src:"/images/stickers/".concat(t,".png")},n))}var ee=n(66),te={zIndex:1000001,boxShadow:"1px 0 3px 0 rgba(151, 158, 178, 0.4), -1px 0 3px 0 rgba(151, 158, 178, 0.4)",width:"auto",padding:0,border:"none",borderRadius:"5px"};var ne=function(e){var t=e.trigger,n=e.position,r=e.children;return a.a.createElement(ee.a,{trigger:t,position:n,contentStyle:te},r)},re=n(32),ae=n(28);var ce=function(){var e=Object(r.useState)([]),t=Object(re.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){ae.default.createService().getStickers().then(a)}),[]),{stickers:n}},oe=n(67),se=n.n(oe),ue=p()(se.a);var ie=function(e){var t=e.onSelect,n=ce().stickers;return a.a.createElement(ne,{trigger:a.a.createElement(q,null,a.a.createElement(Z,null)),position:"top left"},(function(e){return a.a.createElement("div",{className:ue()},a.a.createElement("div",{className:ue("items")},n.map((function(n){return a.a.createElement(q,{key:n.id,className:ue("item"),onClick:function(){t(n.id),e()}},a.a.createElement($,{width:"100%",stickerId:n.id}))}))))}))},le=n(68),de=n.n(le),pe=p()(de.a);var me=function(e){var t=e.onSend,n=Object(r.useState)(!1),c=Object(re.a)(n,2),o=c[0],s=c[1],u=Object(r.useState)(""),i=Object(re.a)(u,2),l=i[0],d=i[1],p=Object(r.useRef)(null),m=Object(r.useCallback)((function(e){d(e),p.current&&(p.current.innerText=e,e&&function(e){try{var t=document.createRange(),n=window.getSelection();n&&(t.setStart(e,e.innerText.split("\n").length),t.collapse(!0),n.removeAllRanges(),n.addRange(t))}catch(r){}}(p.current))}),[d]),f=Object(r.useCallback)((function(){t(l),m("")}),[l,m,t]),_=Object(r.useCallback)((function(e){e.preventDefault(),f()}),[f]),v=Object(r.useCallback)((function(){if(p.current){var e=p.current.innerText;d(e)}}),[d]),h=Object(r.useCallback)((function(){s(!0)}),[s]),b=Object(r.useCallback)((function(){s(!1)}),[s]),g=Object(r.useCallback)((function(e){var t=e.keyCode,n=e.metaKey;13===t&&(e.preventDefault(),n?m("".concat(l,"\n\n")):f())}),[f,m,l]),y=!o&&0===l.trim().length;return a.a.createElement("form",{onSubmit:_,className:pe()},a.a.createElement("div",{className:pe("wrapper")},a.a.createElement("div",{ref:p,contentEditable:!0,className:pe("field"),onInput:v,onFocus:h,onBlur:b,onKeyDown:g}),a.a.createElement("div",{className:pe("placeholder",{visible:y})},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435...")),a.a.createElement(q,{className:pe("send-button")},a.a.createElement(G,null)))},fe=n(69),_e=n.n(fe),ve=p()(_e.a);var he=function(e){var t=e.onSendTextMessage,n=e.onSendStickerMessage;return a.a.createElement("div",{className:ve()},a.a.createElement("div",null,a.a.createElement(q,{className:ve("action")},a.a.createElement(U,null)),a.a.createElement(ie,{onSelect:n})),a.a.createElement(me,{onSend:t}))},be=n(70),ge=n.n(be),ye=p()(ge.a);var Oe=function(e){var t=e.messages,n=e.messageRenderer;return a.a.createElement("div",{className:ye()},t.map(n))},Ee=n(71),je=n.n(Ee),xe=p()(je.a);var ke=function(e){var t=e.text,n=e.theme,r=void 0===n?"light":n;return a.a.createElement("div",{className:xe({theme:r})},t)},we={RUB:"\u20bd",USD:"$"},Ie=function(e){var t=e.sum,n=e.currency,r=e.sign;return"".concat(void 0!==r&&r?t>0?"+ ":"- ":"").concat(Math.abs(t)," ").concat(we[n.name]||"")},Se=n(72),Ne=n.n(Se),Te=p()(Ne.a);var Ae=function(e){var t=e.size,n=void 0===t?"s":t,r=e.className,c=e.style;return a.a.createElement("div",{className:L(Te(),r),style:c},a.a.createElement("div",{className:Te("content",{size:n})}))},Me=n(14),Re=function(e){return e.operations.byId},Be=function(e){return e.operations.loadedById},De=function(e){return e.operations.loadedByAccountId},Pe=Object(Me.a)((function(e,t){return Re(e)[t]}),(function(e){return e||null})),ze=function(e,t){var n=Be(e)[t];return!!n&&n.loaded},Ce=function(e,t){var n=Be(e)[t];return n?n.error:null},Ge=Object(Me.a)((function(e,t){return function(e){return e.operations.operationIdsByAccountId}(e)[t]||[]}),Re,(function(e,t){return e.map((function(e){return t[e]}))})),Ue=function(e,t){var n=De(e)[t];return!!n&&n.loaded},Ze=function(e,t){var n=De(e)[t];return n?n.error:null},Fe="GET_ACCOUNT_OPERATIONS",He="GOT_ACCOUNT_OPERATIONS",Le="GOT_ACCOUNT_OPERATIONS_ERROR",Je="GET_OPERATION",Ke="GOT_OPERATION",We="GOT_OPERATION_ERROR";function qe(e,t){return{type:He,accountId:e,operations:t}}function Ve(e,t){return{type:Le,accountId:e,error:t}}function Xe(e){return{type:Ke,operation:e}}function Qe(e,t){return{type:We,operationId:e,error:t}}var Ye=function(e){var t=Object(i.b)(),n=Object(i.c)((function(t){return Pe(t,e)})),a=Object(i.c)((function(t){return ze(t,e)})),c=Object(i.c)((function(t){return Ce(t,e)}));return Object(r.useEffect)((function(){t(function(e){return{type:Je,operationId:e}}(e))}),[e,t]),{operation:n,loaded:a,error:c}},$e=n(85),et=n(104),tt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"d MMMM HH:mm";return Object($e.a)(new Date(e),t,{locale:et.a})},nt=n(73),rt=n.n(nt),at=p()(rt.a);var ct=function(e){var t=e.operation,n=e.size,r=void 0===n?30:n;return a.a.createElement("div",{className:at(),style:{height:r,width:r}},"1"===t.type&&a.a.createElement(X,{merchantId:t.merchant.id,width:"100%"}),"2"===t.type&&a.a.createElement(F,{style:{width:"50%"}}),"3"===t.type&&a.a.createElement(F,{style:{width:"50%"}}),"4"===t.type&&a.a.createElement(Y,{userId:t.user.id,width:"100%"}),"5"===t.type&&a.a.createElement(H,{style:{width:"50%"}}),"6"===t.type&&a.a.createElement(H,{style:{width:"50%"}}))},ot=n(74),st=n.n(ot),ut=p()(st.a);var it=function(e){var t=e.operation;return a.a.createElement("div",{className:ut()},"1"===t.type&&t.merchant.name,"2"===t.type&&"\u0412\u044b\u043f\u043b\u0430\u0442\u0430 \u0432\u043e\u0437\u043d\u0430\u0433\u0440\u0430\u0436\u0434\u0435\u043d\u0438\u044f","3"===t.type&&"\u0412\u044b\u043f\u043b\u0430\u0442\u0430 \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043e\u0432","4"===t.type&&t.user.name,"5"===t.type&&"\u041f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435","6"===t.type&&"\u041f\u043b\u0430\u0442\u0430 \u0437\u0430 \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435")},lt=n(75),dt=n.n(lt),pt=p()(dt.a);var mt=function(e){var t=e.operation,n=e.onMessage,c=Object(r.useCallback)((function(){n&&n(t.id)}),[t.id,n]);return a.a.createElement("div",{className:pt()},a.a.createElement("div",{className:pt("bg")}),a.a.createElement("div",{className:pt("wrapper")},a.a.createElement("div",{className:pt("left")},a.a.createElement("div",{className:pt("logo")},a.a.createElement(ct,{operation:t})),a.a.createElement("div",null,a.a.createElement("div",{className:pt("name")},a.a.createElement(it,{operation:t})),a.a.createElement("div",{className:pt("date")},tt(t.createdAt)))),a.a.createElement("div",{className:pt("right")},a.a.createElement("div",{className:pt("sum")},Ie({sum:t.sum,currency:t.currency,sign:!0}))),a.a.createElement(q,{className:pt("message-button"),onClick:c},a.a.createElement(C,null))))},ft=n(76),_t=n.n(ft),vt=p()(_t.a);var ht=function(e){var t=e.operationId,n=e.theme,r=void 0===n?"light":n,c=Ye(t),o=c.operation,s=c.loaded,u=c.error;return s?u?null:a.a.createElement("div",{className:vt({theme:r})},a.a.createElement("div",{className:vt("logo")},a.a.createElement(ct,{operation:o,size:60})),a.a.createElement("div",{className:vt("name")},a.a.createElement(it,{operation:o})),a.a.createElement("div",{className:vt("sum")},Ie({sum:o.sum,currency:o.currency}))):a.a.createElement(Ae,null)},bt=n(77),gt=n.n(bt),yt=p()(gt.a);var Ot=function(e){var t=e.stickerId;return a.a.createElement("div",{className:yt()},a.a.createElement($,{stickerId:t,className:yt("logo")}))},Et=n(78),jt=n.n(Et),xt=p()(jt.a);var kt=function(e){var t=e.message;return a.a.createElement("div",{className:xt({own:t.own})},!t.own&&a.a.createElement("div",{className:xt("name")},t.user.name),a.a.createElement("div",{className:xt("wrapper")},!t.own&&a.a.createElement(Y,{userId:t.user.id,className:xt("logo")}),a.a.createElement("div",null,"1"===t.type&&a.a.createElement(ke,{text:t.text,theme:t.own?"dark":"light"}),"2"===t.type&&a.a.createElement(ht,{operationId:t.operationId,theme:t.own?"dark":"light"}),"3"===t.type&&a.a.createElement(Ot,{stickerId:t.stickerId}))))},wt=Object(Me.a)((function(e){return e.messages.ids}),(function(e){return e.messages.byId}),(function(e,t){return e.map((function(e){return t[e]}))})),It=function(e){return e.messages.loaded},St=function(e){return e.messages.error};var Nt=function(){var e=Object(i.b)(),t=Object(i.c)(wt),n=Object(i.c)(It),a=Object(i.c)(St);return Object(r.useEffect)((function(){return e({type:S}),function(){e({type:N})}}),[e]),{messages:t,loaded:n,error:a}};var Tt=function(){var e=Object(i.b)(),t=Nt().messages,n=Object(r.useCallback)((function(t){e(function(e){return{type:k,text:e}}(t))}),[e]),c=Object(r.useCallback)((function(t){e(function(e){return{type:I,stickerId:e}}(t))}),[e]);return a.a.createElement(D,{messagesCount:t.length,input:a.a.createElement(he,{onSendTextMessage:n,onSendStickerMessage:c}),messages:a.a.createElement(Oe,{messages:t,messageRenderer:function(e){return a.a.createElement(kt,{key:e.id,message:e})}})})},At=n(79),Mt=n.n(At),Rt=p()(Mt.a);var Bt=function(e){var t=e.data,n=e.itemRenderer;return a.a.createElement("div",{className:Rt()},t.map((function(e,t){return a.a.createElement("div",{key:t,className:Rt("item")},n({rowData:e,rowIndex:t}))})))};var Dt=function(e){var t=e.to,n=Object(m.a)(e,["to"]);return a.a.createElement(s.b,Object.assign({to:t},n))},Pt=n(80),zt=n.n(Pt),Ct=p()(zt.a);var Gt=function(e){var t=e.id,n=e.logoId,r=e.number,c=e.totalSum,o=e.currency,s=e.interestRate,u=e.openedAt,i=e.closeAt,l=e.lastOperation;return a.a.createElement("div",{className:Ct()},a.a.createElement("div",{className:Ct("header")},a.a.createElement("div",null,"\u0412\u043a\u043b\u0430\u0434 \u2116 ".concat(r)),a.a.createElement("div",{className:Ct("total-sum")},"".concat(Ie({sum:c,currency:o})))),a.a.createElement("div",{className:Ct("info")},"".concat(s,"%  \u0433\u043e\u0434\u043e\u0432\u044b\u0445")),a.a.createElement("div",{className:Ct("info")},"\u0421\u043e\u0437\u0434\u0430\u043d: ".concat(tt(u))),a.a.createElement("div",{className:Ct("info")},"\u0414\u043e: ".concat(tt(i))),l&&a.a.createElement("div",{className:Ct("info")},a.a.createElement("div",null,"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f:"),a.a.createElement("span",null,tt(l.createdAt)," "),a.a.createElement("span",null,a.a.createElement("span",null,"("),a.a.createElement("span",{className:Ct("last-sum")},"".concat(Ie({sum:l.sum,currency:l.currency,sign:!0}))),a.a.createElement("span",null,")"))),a.a.createElement(Q,{logoId:n,className:Ct("logo")}),l&&a.a.createElement(Dt,{className:Ct("more-link"),to:"/deposits/".concat(t),title:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"},a.a.createElement(P,null)))},Ut=function(e,t){return e.deposits.loadedById[t]},Zt=Object(Me.a)((function(e){return e.deposits.ids}),(function(e){return e.deposits.byId}),(function(e,t){return e.map((function(e){return t[e]}))})),Ft=function(e){return e.deposits.loaded},Ht=function(e){return e.deposits.error},Lt=Object(Me.a)((function(e,t){return e.deposits.byId[t]}),(function(e){return e||null})),Jt=Object(Me.a)(Ut,(function(e){return!!e&&e.loaded})),Kt=Object(Me.a)(Ut,(function(e){return e?e.error:null})),Wt="GET_DEPOSITS",qt="GOT_DEPOSITS",Vt="GOT_DEPOSITS_ERROR",Xt="GET_DEPOSIT",Qt="GOT_DEPOSIT",Yt="GOT_DEPOSIT_ERROR";function $t(e){return{type:qt,deposits:e}}function en(e){return{type:Qt,deposit:e}}function tn(e,t){return{type:Yt,depositId:e,error:t}}var nn=function(){var e=Object(i.b)(),t=Object(i.c)(Zt),n=Object(i.c)(Ft),a=Object(i.c)(Ht);return Object(r.useEffect)((function(){e({type:Wt})}),[e]),{deposits:t,loaded:n,error:a}};var rn=function(){var e=nn(),t=e.deposits;return e.loaded?0===t.length?a.a.createElement("div",null,"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u043e\u0442\u043a\u0440\u044b\u0442\u044b\u0445 \u0432\u043a\u043b\u0430\u0434\u043e\u0432"):a.a.createElement(Bt,{data:t,itemRenderer:function(e){var t=e.rowData;return a.a.createElement(Gt,{id:t.id,logoId:t.logoId,number:t.id,totalSum:t.totalSum,openedAt:t.openedAt,closeAt:t.closeAt,currency:t.currency,interestRate:t.interestRate,lastOperation:t.lastOperation})}}):a.a.createElement(Ae,{style:{marginTop:60}})};var an=function(){return Object(r.useContext)(u.d)};var cn=function(){return an().match.params},on=n(81),sn=n.n(on),un=p()(sn.a);var ln=function(e){var t=e.info,n=e.operations,r=e.fallback,c=e.returnUrl;return a.a.createElement("div",{className:un()},r&&a.a.createElement("div",{className:un("fallback")},r),t&&a.a.createElement("div",{className:un("info")},t),n&&a.a.createElement("div",{className:un("operations-container")},a.a.createElement("div",{className:un("operations-title")},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439"),a.a.createElement("div",{className:un("operations")},n)),a.a.createElement(Dt,{className:un("close-link"),to:c,title:"\u041d\u0430\u0437\u0430\u0434"},a.a.createElement(z,null)))};var dn=function(e){var t=Object(i.b)(),n=Object(i.c)((function(t){return Ge(t,e)})),a=Object(i.c)((function(t){return Ue(t,e)})),c=Object(i.c)((function(t){return Ze(t,e)}));return Object(r.useEffect)((function(){t(function(e){return{type:Fe,accountId:e}}(e))}),[e,t]),{operations:n,loaded:a,error:c}};var pn=function(e){var t=Object(i.b)(),n=Object(i.c)((function(t){return Lt(t,e)})),a=Object(i.c)((function(t){return Jt(t,e)})),c=Object(i.c)((function(t){return Kt(t,e)}));return Object(r.useEffect)((function(){t({type:Xt,depositId:e})}),[t,e]),{deposit:n,loaded:a,error:c}};var mn=function(){var e=Object(i.b)(),t=cn().depositId,n=pn(t),r=n.deposit,c=n.loaded,o=dn(t),s=o.operations,u=o.loaded,l=function(t){e(T(t))};return c&&u?r?a.a.createElement(ln,{returnUrl:"/deposits",info:a.a.createElement(Gt,{id:r.id,logoId:r.logoId,totalSum:r.totalSum,number:r.id,currency:r.currency,interestRate:r.interestRate,openedAt:r.openedAt,closeAt:r.closeAt}),operations:0!==s.length?a.a.createElement(Bt,{data:s,itemRenderer:function(e){var t=e.rowData;return a.a.createElement(mt,{operation:t,onMessage:l})}}):a.a.createElement("div",null,"\u041d\u0435\u0442 \u043d\u0438 \u043e\u0434\u043d\u043e\u0439 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438")}):a.a.createElement(ln,{returnUrl:"/deposits",fallback:a.a.createElement("div",null,"\u0414\u0435\u043f\u043e\u0437\u0438\u0442 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d")}):a.a.createElement(Ae,{style:{marginTop:200}})},fn=n(82),_n=n.n(fn),vn=p()(_n.a);var hn=function(e){var t=e.id,n=e.logoId,r=e.number,c=e.totalSum,o=e.currency,s=e.interestRate,u=e.openedAt,i=e.lastOperation;return a.a.createElement("div",{className:vn()},a.a.createElement("div",{className:vn("header")},a.a.createElement("div",null,"\u0421\u0447\u0435\u0442 \u2116 ".concat(r)),a.a.createElement("div",{className:vn("total-sum")},Ie({sum:c,currency:o}))),a.a.createElement("div",{className:vn("info")},"".concat(s,"%  \u0433\u043e\u0434\u043e\u0432\u044b\u0445")),a.a.createElement("div",{className:vn("info")},"\u0421\u043e\u0437\u0434\u0430\u043d: ".concat(tt(u))),i&&a.a.createElement("div",{className:vn("info")},a.a.createElement("div",null,"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f:"),a.a.createElement("span",null,tt(i.createdAt)," "),a.a.createElement("span",null,a.a.createElement("span",null,"("),a.a.createElement("span",{className:vn("last-sum")},"".concat(Ie({sum:i.sum,currency:i.currency,sign:!0}))),a.a.createElement("span",null,")"))),a.a.createElement(Q,{logoId:n,className:vn("logo")}),i&&a.a.createElement(Dt,{className:vn("more-link"),to:"/accounts/".concat(t),title:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"},a.a.createElement(P,null)))},bn=function(e,t){return e.accounts.loadedById[t]},gn=Object(Me.a)((function(e){return e.accounts.ids}),(function(e){return e.accounts.byId}),(function(e,t){return e.map((function(e){return t[e]}))})),yn=function(e){return e.accounts.loaded},On=function(e){return e.accounts.error},En=Object(Me.a)((function(e,t){return e.accounts.byId[t]}),(function(e){return e||null})),jn=Object(Me.a)(bn,(function(e){return!!e&&e.loaded})),xn=Object(Me.a)(bn,(function(e){return e?e.error:null})),kn="GET_ACCOUNTS",wn="GOT_ACCOUNTS",In="GOT_ACCOUNTS_ERROR",Sn="GET_ACCOUNT",Nn="GOT_ACCOUNT",Tn="GOT_ACCOUNT_ERROR";function An(e){return{type:wn,accounts:e}}function Mn(e){return{type:Nn,account:e}}function Rn(e,t){return{type:Tn,accountId:e,error:t}}var Bn=function(e){var t=Object(i.b)(),n=Object(i.c)((function(t){return En(t,e)})),a=Object(i.c)((function(t){return jn(t,e)})),c=Object(i.c)((function(t){return xn(t,e)}));return Object(r.useEffect)((function(){t(function(e){return{type:Sn,accountId:e}}(e))}),[t,e]),{account:n,loaded:a,error:c}};var Dn=function(){var e=Object(i.b)(),t=cn().accountId,n=Bn(t),r=n.account,c=n.loaded,o=dn(t),s=o.operations,u=o.loaded,l=function(t){e(T(t))};return c&&u?r?a.a.createElement(ln,{returnUrl:"/accounts",info:a.a.createElement(hn,{id:r.id,logoId:r.logoId,totalSum:r.totalSum,number:r.id,currency:r.currency,interestRate:r.interestRate,openedAt:r.openedAt}),operations:0!==s.length?a.a.createElement(Bt,{data:s,itemRenderer:function(e){var t=e.rowData;return a.a.createElement(mt,{operation:t,onMessage:l})}}):a.a.createElement("div",null,"\u041d\u0435\u0442 \u043d\u0438 \u043e\u0434\u043d\u043e\u0439 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438")}):a.a.createElement(ln,{returnUrl:"/accounts",fallback:a.a.createElement("div",null,"\u0421\u0447\u0435\u0442 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d")}):a.a.createElement(Ae,{style:{marginTop:200}})};var Pn=function(){var e=Object(i.b)(),t=Object(i.c)(gn),n=Object(i.c)(yn),a=Object(i.c)(On);return Object(r.useEffect)((function(){e({type:kn})}),[e]),{accounts:t,loaded:n,error:a}};var zn=function(){var e=Pn(),t=e.accounts;return e.loaded?0===t.length?a.a.createElement("div",null,"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u043e\u0442\u043a\u0440\u044b\u0442\u044b\u0445 \u0441\u0447\u0435\u0442\u043e\u0432"):a.a.createElement(Bt,{data:t,itemRenderer:function(e){var t=e.rowData;return a.a.createElement(hn,{id:t.id,logoId:t.logoId,number:t.id,totalSum:t.totalSum,currency:t.currency,interestRate:t.interestRate,lastOperation:t.lastOperation,openedAt:t.openedAt})}}):a.a.createElement(Ae,{style:{marginTop:60}})},Cn=n(13),Gn=n(87),Un=n(45),Zn=n(83),Fn=n.n(Zn),Hn=n(9);function Ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ln(n,!0).forEach((function(t){Object(Hn.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ln(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Kn={byId:{},loadedById:{},operationIdsByAccountId:{},loadedByAccountId:{}};function Wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wn(n,!0).forEach((function(t){Object(Hn.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Vn={ids:[],byId:{},loadedById:{},loaded:!1,error:null};function Xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xn(n,!0).forEach((function(t){Object(Hn.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yn={ids:[],byId:{},loadedById:{},loaded:!1,error:null};function $n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$n(n,!0).forEach((function(t){Object(Hn.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$n(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tr={ids:[],byId:{},loaded:!1,error:null},nr=Object(Cn.c)({operations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe:var n=t.accountId,r=e.loadedByAccountId[n];return r?e:Jn({},e,{loadedByAccountId:Jn({},e.loadedByAccountId,Object(Hn.a)({},n,{loaded:!1,error:null}))});case He:var a=t.accountId,c=t.operations,o=c.map((function(e){return e.id})),s=Jn({},e.byId),u=Jn({},e.loadedById);c.forEach((function(e){s[e.id]=e,u[e.id]={loaded:!0,error:null}}));var i=Jn({},e.operationIdsByAccountId,Object(Hn.a)({},a,o)),l=Jn({},e.loadedByAccountId,Object(Hn.a)({},a,{loaded:!0,error:null}));return Jn({},e,{byId:s,loadedById:u,operationIdsByAccountId:i,loadedByAccountId:l});case Le:var d=t.accountId,p=t.error,m=Jn({},e.loadedById,Object(Hn.a)({},d,{loaded:!0,error:p}));return Jn({},e,{loadedById:m});case Je:var f=t.operationId,_=e.loadedById[f];return _?e:Jn({},e,{loadedById:Jn({},e.loadedById,Object(Hn.a)({},f,{loaded:!1,error:null}))});case Ke:var v=t.operation,h=Jn({},e.loadedById,Object(Hn.a)({},v.id,{loaded:!0,error:null})),b=Jn({},e.byId,Object(Hn.a)({},v.id,v));return Jn({},e,{byId:b,loadedById:h});case We:var g=t.operationId,y=t.error,O=Jn({},e.loadedById,Object(Hn.a)({},g,{loaded:!0,error:y}));return Jn({},e,{loadedById:O});default:return e}},accounts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case kn:return qn({},e,{error:null});case wn:var n=t.accounts,r=n.map((function(e){return e.id})),a={},c={};return n.forEach((function(e){a[e.id]=e,c[e.id]={loaded:!0,error:null}})),qn({},e,{ids:r,byId:a,loadedById:c,loaded:!0});case In:var o=t.error;return qn({},e,{loaded:!0,error:o});case Sn:var s=t.accountId,u=e.byId[s];return u?e:qn({},e,{loadedById:qn({},e.loadedById,Object(Hn.a)({},s,{loaded:!1,error:null}))});case Nn:var i=t.account,l=qn({},e.byId,Object(Hn.a)({},i.id,i)),d=qn({},e.loadedById,Object(Hn.a)({},i.id,{loaded:!0,error:null}));return qn({},e,{byId:l,loadedById:d});case Tn:var p=t.accountId,m=t.error,f=qn({},e.loadedById,Object(Hn.a)({},p,{loaded:!0,error:m}));return qn({},e,{loadedById:f});default:return e}},deposits:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Wt:return Qn({},e,{error:null});case qt:var n=t.deposits,r=n.map((function(e){return e.id})),a={},c={};return n.forEach((function(e){a[e.id]=e,c[e.id]={loaded:!0,error:null}})),Qn({},e,{ids:r,byId:a,loadedById:c,loaded:!0});case Vt:var o=t.error;return Qn({},e,{loaded:!0,error:o});case Xt:var s=t.depositId,u=e.byId[s];return u?e:Qn({},e,{loadedById:Qn({},e.loadedById,Object(Hn.a)({},s,{loaded:!1,error:null}))});case Qt:var i=t.deposit,l=Qn({},e.byId,Object(Hn.a)({},i.id,i)),d=Qn({},e.loadedById,Object(Hn.a)({},i.id,{loaded:!0,error:null}));return Qn({},e,{byId:l,loadedById:d});case Yt:var p=t.depositId,m=t.error,f=Qn({},e.loadedById,Object(Hn.a)({},p,{loaded:!0,error:m}));return Qn({},e,{loadedById:f});default:return e}},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return er({},e,{error:null});case j:var n=t.messages,r=n.map((function(e){return e.id})),a={};return n.forEach((function(e){a[e.id]=e})),er({},e,{ids:r,byId:a,loaded:!0});case x:var c=t.error;return er({},e,{loaded:!0,error:c});default:return e}}}),rr=n(2),ar=n.n(rr),cr=n(4),or=n(42),sr=ar.a.mark(lr),ur=ar.a.mark(dr),ir=ar.a.mark(pr);function lr(e){var t,n,r;return ar.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.accountId,n=or.default.createService(),a.prev=2,a.next=5,n.getAccountOperations(t);case 5:return r=a.sent,a.next=8,Object(cr.e)(qe(t,r));case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(2),a.next=14,Object(cr.e)(Ve(t,a.t0.message));case 14:case"end":return a.stop()}}),sr,null,[[2,10]])}function dr(e){var t,n,r;return ar.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.operationId,n=or.default.createService(),a.prev=2,a.next=5,n.getOperation(t);case 5:return r=a.sent,a.next=8,Object(cr.e)(Xe(r));case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(2),a.next=14,Object(cr.e)(Qe(t,a.t0.message));case 14:case"end":return a.stop()}}),ur,null,[[2,10]])}function pr(){return ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(cr.a)([Object(cr.h)(Fe,lr),Object(cr.h)(Je,dr)]);case 2:case"end":return e.stop()}}),ir)}var mr=n(43),fr=ar.a.mark(hr),_r=ar.a.mark(br),vr=ar.a.mark(gr);function hr(){var e,t;return ar.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=mr.default.createService(),n.prev=1,n.next=4,e.getAccounts();case 4:return t=n.sent,n.next=7,Object(cr.e)(An(t));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(1),n.next=13,Object(cr.e)((r=n.t0.message,{type:In,error:r}));case 13:case"end":return n.stop()}var r}),fr,null,[[1,9]])}function br(e){var t,n,r;return ar.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.accountId,n=mr.default.createService(),a.prev=2,a.next=5,n.getAccount(t);case 5:return r=a.sent,a.next=8,Object(cr.e)(Mn(r));case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(2),a.next=14,Object(cr.e)(Rn(t,a.t0.message));case 14:case"end":return a.stop()}}),_r,null,[[2,10]])}function gr(){return ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(cr.a)([Object(cr.h)(kn,hr),Object(cr.h)(Sn,br)]);case 2:case"end":return e.stop()}}),vr)}var yr=n(44),Or=ar.a.mark(xr),Er=ar.a.mark(kr),jr=ar.a.mark(wr);function xr(){var e,t;return ar.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=yr.default.createService(),n.prev=1,n.next=4,e.getDeposits();case 4:return t=n.sent,n.next=7,Object(cr.e)($t(t));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(1),n.next=13,Object(cr.e)((r=n.t0.message,{type:Vt,error:r}));case 13:case"end":return n.stop()}var r}),Or,null,[[1,9]])}function kr(e){var t,n,r;return ar.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.depositId,n=yr.default.createService(),a.prev=2,a.next=5,n.getDeposit(t);case 5:return r=a.sent,a.next=8,Object(cr.e)(en(r));case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(2),a.next=14,Object(cr.e)(tn(t,a.t0.message));case 14:case"end":return a.stop()}}),Er,null,[[2,10]])}function wr(){return ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(cr.a)([Object(cr.h)(Wt,xr),Object(cr.h)(Xt,kr)]);case 2:case"end":return e.stop()}}),jr)}var Ir=n(6),Sr=n(17),Nr=n(18),Tr=n(23);function Ar(e,t){return e+Math.floor(Math.random()*(t-e))}var Mr=function(){function e(){var t=this;Object(Sr.a)(this,e),this.states=void 0,this.currentStateId="1",this.apiService=Tr.a.createService(),this.userId="1",this.states={1:{desc:"\u041f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0435",run:function(){var e=Object(Ir.a)(ar.a.mark((function e(){return ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendStickerMessage("15",3e3);case 2:t.runState("2");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},2:{desc:"\u041f\u043e\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u043f\u043e\u043c\u043e\u0449\u0438",run:function(){var e=Object(Ir.a)(ar.a.mark((function e(){return ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendTextMessage("\u041c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u043c\u043e\u0447\u044c?",2e3);case 2:t.runState("3");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},3:{desc:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442 \u043e\u0442\u0432\u0435\u0442\u0430 \u043d\u0430 \u043f\u0440\u043e\u0441\u044c\u0431\u0443 \u043e \u043f\u043e\u043c\u043e\u0449\u0438",run:function(){var e=Object(Ir.a)(ar.a.mark((function e(){return ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.waitMessage();case 2:t.runState("4");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},4:{desc:"\u0418\u0437\u043b\u043e\u0436\u0438\u0442\u044c \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0443 \u0432 \u0434\u0432\u0443\u0445 \u0441\u043b\u043e\u0432\u0430\u0445",run:function(){var e=Object(Ir.a)(ar.a.mark((function e(){return ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendTextMessage("\u0412\u0447\u0435\u0440\u0430 \u043f\u043e\u043f\u043e\u043b\u043d\u0438\u043b \u0441\u0432\u043e\u0439 \u0440\u0443\u0431\u043b\u0435\u0432\u044b\u0439 \u0432\u043a\u043b\u0430\u0434 \u21162352332\n\u043d\u043e \u0434\u0435\u043d\u044e\u0436\u043a\u0430 \u0434\u043e \u0441\u0438\u0445 \u043f\u043e\u0440 \u043d\u0435 \u043f\u043e\u0441\u0442\u0443\u043f\u0438\u043b\u0430",2e3);case 2:return e.next=4,t.sendTextMessage("\u041c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435?",2e3);case 4:t.runState("6");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},6:{desc:"\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u043e\u0442\u0432\u0435\u0442\u0430 \u043d\u0430 \u043f\u0440\u043e\u0441\u044c\u0431\u0443",run:function(){var e=Object(Ir.a)(ar.a.mark((function e(){var n;return ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.waitMessage();case 2:if("2"===(n=e.sent).type){e.next=8;break}return e.next=6,t.sendTextMessage("\u041b\u0443\u0447\u0448\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441\u0430\u043c\u0443 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044e \u0432 \u0447\u0430\u0442",1e3);case 6:return t.runState("6"),e.abrupt("return");case 8:if("163826"===n.operationId){e.next=15;break}return e.next=11,t.sendStickerMessage("1",500);case 11:return e.next=13,t.sendTextMessage("\u0422\u0430\u043a \u043d\u0435 \u043f\u043e\u0439\u0434\u0435\u0442. \u041e\u0442\u043f\u0440\u0430\u0432\u044c\u0442\u0435 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u044e\u044e \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044e \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",1e3);case 13:return t.runState("6"),e.abrupt("return");case 15:t.runState("7");case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},7:{desc:"\u041f\u043e\u0431\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u0438\u0442\u044c",run:function(){var e=Object(Ir.a)(ar.a.mark((function e(){return ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendTextMessage("\u0414\u0430, \u044d\u0442\u043e \u043e\u043d\u043e. \u0422\u0435\u043f\u0435\u0440\u044c \u0431\u0443\u0434\u0443 \u0441\u043f\u0430\u0442\u044c \u0441\u043f\u043e\u043a\u043e\u0439\u043d\u043e)",1500);case 2:return e.next=4,t.sendStickerMessage("21",500);case 4:t.runState("8");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},8:{desc:"\u0422\u0443\u0442 \u0432\u0441\u0435\u0433\u0434\u0430 \u043e\u0442\u0441\u044b\u043b\u0430\u0435\u043c \u0440\u0430\u043d\u0434\u043e\u043c\u043d\u044b\u0439 \u0441\u0442\u0438\u043a\u0435\u0440",run:function(){var e=Object(Ir.a)(ar.a.mark((function e(){var n;return ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.waitMessage(!1);case 2:return n="".concat(Ar(1,24)),e.next=5,t.sendStickerMessage(n,500);case 5:t.runState("8");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}}return Object(Nr.a)(e,[{key:"startDialog",value:function(){this.runState("1")}},{key:"startEcho",value:function(){this.runState("8")}},{key:"sendTextMessage",value:function(){var e=Object(Ir.a)(ar.a.mark((function e(t){var n,r=this,a=arguments;return ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:0,e.abrupt("return",new Promise((function(e){setTimeout((function(){r.apiService.sendMessage({text:t,userId:r.userId}).then(e)}),n)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendStickerMessage",value:function(){var e=Object(Ir.a)(ar.a.mark((function e(t){var n,r=this,a=arguments;return ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:0,e.abrupt("return",new Promise((function(e){setTimeout((function(){r.apiService.sendMessage({stickerId:t,userId:r.userId}).then(e)}),n)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"waitMessage",value:function(){var e=Object(Ir.a)(ar.a.mark((function e(){var t,n=this,r=arguments;return ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(r.length>0&&void 0!==r[0])||r[0],e.abrupt("return",new Promise((function(e){var r,a=n.apiService.subscribeToMessages((function(t){clearInterval(r),a(),e(t)}),n.userId);t&&(r=setInterval((function(){var e="".concat(Ar(22,24));n.sendStickerMessage(e)}),1e4))})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"runState",value:function(e){this.changeCurrentState(e),this.runCurrentState()}},{key:"runCurrentState",value:function(){this.states[this.currentStateId].run()}},{key:"changeCurrentState",value:function(e){this.currentStateId=e}}]),e}(),Rr=ar.a.mark(Zr),Br=ar.a.mark(Fr),Dr=ar.a.mark(Hr),Pr=ar.a.mark(Lr),zr=ar.a.mark(Jr),Cr=ar.a.mark(Kr),Gr=ar.a.mark(Wr),Ur=ar.a.mark(qr);function Zr(){var e,t;return ar.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=ae.default.createService(),n.prev=1,n.next=4,e.getMessages();case 4:return t=n.sent,n.next=7,Object(cr.e)(A(t));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(1),n.next=13,Object(cr.e)((r=n.t0.message,{type:x,error:r}));case 13:case"end":return n.stop()}var r}),Rr,null,[[1,9]])}function Fr(){return ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(cr.e)({type:E});case 3:return e.next=5,Object(cr.c)(5e3);case 5:e.next=0;break;case 7:case"end":return e.stop()}}),Br)}function Hr(){var e;return ar.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(cr.d)(Fr);case 2:return e=t.sent,t.next=5,Object(cr.g)(N);case 5:e.cancel();case 6:case"end":return t.stop()}}),Dr)}function Lr(e){var t,n;return ar.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==(t=e.text).trim().length){r.next=3;break}return r.abrupt("return");case 3:return n=ae.default.createService(),r.prev=4,r.next=7,n.sendTextMessage(t);case 7:return r.next=9,Zr();case 9:r.next=13;break;case 11:r.prev=11,r.t0=r.catch(4);case 13:case"end":return r.stop()}}),Pr,null,[[4,11]])}function Jr(e){var t,n;return ar.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.operationId,n=ae.default.createService(),r.prev=2,r.next=5,n.sendOperationMessage(t);case 5:return r.next=7,Zr();case 7:r.next=11;break;case 9:r.prev=9,r.t0=r.catch(2);case 11:case"end":return r.stop()}}),zr,null,[[2,9]])}function Kr(e){var t,n;return ar.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.stickerId,n=ae.default.createService(),r.prev=2,r.next=5,n.sendStickerMessage(t);case 5:return r.next=7,Zr();case 7:r.next=11;break;case 9:r.prev=9,r.t0=r.catch(2);case 11:case"end":return r.stop()}}),Cr,null,[[2,9]])}function Wr(){var e,t,n;return ar.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(cr.f)(wt);case 3:return e=r.sent,t=ae.default.createService(),r.next=7,t.syncMessages(e);case 7:n=new Mr,0===e.length?n.startDialog():n.startEcho(),r.next=13;break;case 11:r.prev=11,r.t0=r.catch(0);case 13:case"end":return r.stop()}}),Gr,null,[[0,11]])}function qr(){return ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(cr.a)([Object(cr.h)(E,Zr),Object(cr.h)(S,Hr),Object(cr.h)(k,Lr),Object(cr.h)(w,Jr),Object(cr.h)(I,Kr),Object(cr.h)("persist/REHYDRATE",Wr)]);case 2:case"end":return e.stop()}}),Ur)}var Vr=ar.a.mark(Xr);function Xr(){return ar.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(cr.a)([Object(cr.b)(gr),Object(cr.b)(wr),Object(cr.b)(qr),Object(cr.b)(pr)]);case 2:case"end":return e.stop()}}),Vr)}var Qr={key:"root",storage:Fn.a,whitelist:["messages"]},Yr=Object(Un.a)(Qr,nr),$r=n(84),ea=n.n($r),ta=p()(ea.a),na=function(){var e=Object(Gn.a)(),t=Object(Cn.e)(Yr,Object(Cn.a)(e)),n=Object(Un.b)(t);return e.run(Xr),{store:t,persistor:n}}(),ra=na.store,aa=na.persistor;var ca=function(){return a.a.createElement(i.a,{store:ra},a.a.createElement(l.a,{loading:null,persistor:aa},a.a.createElement(s.a,null,a.a.createElement("div",{className:ta()},a.a.createElement("div",{className:ta("chat")},a.a.createElement(Tt,null)),a.a.createElement("div",{className:ta("sidebar")},a.a.createElement(u.c,null,a.a.createElement(u.a,{path:"/deposits/:depositId",component:mn}),a.a.createElement(u.a,{path:"/accounts/:accountId",component:Dn}),a.a.createElement(O,{tabs:[{title:"\u0421\u0447\u0435\u0442\u0430",path:"/accounts",component:zn},{title:"\u0412\u043a\u043b\u0430\u0434\u044b",path:"/deposits",component:rn}]})))))))};o.a.render(a.a.createElement(ca,null),document.getElementById("root"))}]),[[88,1,2]]]);
//# sourceMappingURL=main.d69f3155.chunk.js.map